<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Gun Violence Archive in the United States from 2014 to 2018</title>
  <meta name="description" content="Chapter 3 Data transformation | Gun Violence Archive in the United States from 2014 to 2018" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Gun Violence Archive in the United States from 2014 to 2018" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Gun Violence Archive in the United States from 2014 to 2018" />
  
  
  

<meta name="author" content="Yifei Chen and Zujun Peng" />


<meta name="date" content="2020-11-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">gunviolence</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Gun Violence Archive in the United States from 2014 to 2018</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>From the official website, we get separate csv files for different variables, including total number of incidents, in years from 2014 to 2018. First of all, we transform those csv files into dataframes in R.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-transformation.html#cb1-1"></a><span class="co"># Read the incident files into dataframes </span></span>
<span id="cb1-2"><a href="data-transformation.html#cb1-2"></a>incident_<span class="dv">2014</span> &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/incident_2014.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span>
<span id="cb1-3"><a href="data-transformation.html#cb1-3"></a>incident_<span class="dv">2015</span> &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/incident_2015.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span>
<span id="cb1-4"><a href="data-transformation.html#cb1-4"></a>incident_<span class="dv">2016</span> &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/incident_2016.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span>
<span id="cb1-5"><a href="data-transformation.html#cb1-5"></a>incident_<span class="dv">2017</span> &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/incident_2017.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span>
<span id="cb1-6"><a href="data-transformation.html#cb1-6"></a>incident_<span class="dv">2018</span> &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/incident_2018.csv&quot;</span>, <span class="dt">na.strings =</span> <span class="st">&quot;N/A&quot;</span>)</span></code></pre></div>
<p>The codes written above are for examples of our way of transforming from csv files into dataframes in R. Letâ€™s look at one of the datasets, incident_2014, which contains information about all incidents reported in 2014.</p>
<pre><code>##   Incident.ID     Incident.Date    State  City.Or.County
## 1      274849 December 31, 2014 Missouri     Springfield
## 2      271885 December 31, 2014 Maryland       Baltimore
## 3      271883 December 31, 2014 Maryland       Baltimore
## 4      271878 December 31, 2014 Illinois         Chicago
## 5      272404 December 31, 2014 Michigan       Ypsilanti
## 6      271875 December 31, 2014 Maryland Capitol Heights
##                          Address X..Killed X..Injured Operations
## 1                           &lt;NA&gt;         0          1         NA
## 2  4700 block of Shamrock Avenue         0          1         NA
## 3     5600 block of Harford Road         0          1         NA
## 4     8600 block of South Racine         0          1         NA
## 5 900 block of N. Congress Stree         0          0         NA
## 6  800 block of Balsamtree Drive         1          0         NA</code></pre>
<p>In the dataset containing information about each incident in 2014, the values in the â€˜Operationsâ€™ columns are all missing values. This situation happens to all other datasets as well. Therefore, we drop the last column â€˜Operationsâ€™ for better missing value visualization.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-transformation.html#cb3-1"></a>incident_<span class="dv">2014</span><span class="op">$</span>Operations &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb3-2"><a href="data-transformation.html#cb3-2"></a>incident_<span class="dv">2015</span><span class="op">$</span>Operations &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb3-3"><a href="data-transformation.html#cb3-3"></a>incident_<span class="dv">2016</span><span class="op">$</span>Operations &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb3-4"><a href="data-transformation.html#cb3-4"></a>incident_<span class="dv">2017</span><span class="op">$</span>Operations &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb3-5"><a href="data-transformation.html#cb3-5"></a>incident_<span class="dv">2018</span><span class="op">$</span>Operations &lt;-<span class="st"> </span><span class="ot">NULL</span></span></code></pre></div>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ZujunPeng/Gun_violence/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ZujunPeng/Gun_violence/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
